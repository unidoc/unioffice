language: go
go:
        - 1.8.x
        - 1.9.x
        - tip

install:
        - mkdir -p $HOME/gopath/src/baliance.com/
        - ln -s $HOME/gopath/src/github.com/baliance/gooxml $HOME/gopath/src/baliance.com/gooxml
        - go get github.com/mattn/goveralls
        - go get github.com/modocache/gover

script:
        - go list -f '{{if len .TestGoFiles}}"go test -coverprofile={{.Dir}}/.coverprofile {{.ImportPath}}"{{end}}' ./... | xargs -L 1 sh -c
        - go list -f '{{if len .XTestGoFiles}}"go test -coverprofile={{.Dir}}/.coverprofile {{.ImportPath}}"{{end}}' ./... | xargs -L 1 sh -c
        - gover
        - goveralls -coverprofile=gover.coverprofile -v -service=travis-ci
        